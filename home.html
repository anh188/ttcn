<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/home.css">
    <link rel="stylesheet" href="./css/style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="./search.html">
  </head>
<body>
  <header class="header">
    <nav class="navbar">
      <a href="home.html">Trang chủ</a>
      <a href="contact.html">Giới thiệu</a>
      <a href="contact.html">Liên hệ</a>
      <!-- <a href="#">Contact</a> -->
    </nav>
      <a class="link-login" href="loginregister.html">Đăng nhập</a>
  </header>

  <div id="content container">
    <div class="Thucvat">
      <h1></h1> 
      <div class="search">
        <div class="search-container">
          <input type="text" id="searchInput" placeholder="Tìm kiếm...">
          <button type="button" id="searchButton"><i class='bx bx-search'></i></button>
        </div>  
      </div>
      <div class="container" id="gallery">
        <!-- Các cây sẽ được thêm vào đây -->
      </div>
    
      <!-- <div class="container">
        <div id="">
            <a href="./details.html" data-bo="Bộ bồ hòn" data-ho="họ bồ hòn" data-kich-thuoc="26">
              <img src="./asset/IMG_5148.JPG" alt="">
              <h3>Vải</h3>
            </a>
            <a href="./details.html" data-bo="Bộ mộc lan" data-ho="họ mộc lan" data-kich-thuoc="26">
              <img src="./asset/IMG_5996.JPG" alt="">
              <h3>Ngọc lan ta</h3>
            </a>
            <a href="./details.html" data-bo="Bộ bồ hòn" data-ho="họ bồ hòn" data-kich-thuoc="26">
              <img src="./asset/IMG_5916.JPG" alt="">
              <h3>Nhãn</h3>
            </a>
            <a href="./details.html" data-bo="Bộ bồ hòn" data-ho="họ bồ hòn" data-kich-thuoc="26">
              <img src="./asset/HKKH7877.JPG" alt="">
              <h3>Macca</h3>
            </a>
            <a href="./details.html" data-bo="Bộ bồ hòn" data-ho="họ bồ hòn" data-kich-thuoc="26">
              <img src="./asset/IMG_0687.JPG" alt="">
              <h3>a</h3>
            </a>
            <a href="./details.html" data-bo="Bộ loa kèn" data-ho="họ loa kèn" data-kich-thuoc="26">
              <img src="./asset/IMG_5697.JPG" alt="">
              <h3>Loa kèn trắng</h3>
            </a>
            <a href="./details.html" data-bo="Bộ bồ hòn" data-ho="họ bồ hòn" data-kich-thuoc="26">
              <img src="./asset/z5368648180551_10d15cca3a85f62cf324dfa0e4c73533.jpg" alt="">
              <h3>Bưởi</h3>
            </a>
            <a href="./details.html" data-bo="Bộ bồ hòn" data-ho="họ bồ hòn" data-kich-thuoc="26">
              <img src="./asset/IMG_5550.JPG" alt="">
              <h3>Sài đất</h3>
            </a>
            <a href="./details.html" data-bo="Bộ bồ hòn" data-ho="họ bồ hòn" data-kich-thuoc="26">
              <img src="./asset/IMG_5935.JPG" alt="">
              <h3>Khế</h3>
            </a>
            <a href="./details.html" data-bo="Bộ bồ hòn" data-ho="họ bồ hòn" data-kich-thuoc="26">
              <img src="./asset/IMG_6012.JPG" alt="">
              <h3>Lộc vừng</h3>
            </a>
          </div>
    <div id="resultCount"></div>

      </div> -->
    </div>
</div>

   
    <div id="footer">
        <div class="ft-all">
            <div class="ft-content">
                <div class="ft-leftc">
                    <h2>Thông tin về chúng tôi</h2>
                </div>

                <div class="ft-right">
                    <h2>Kết nối với chúng tôi</h2>
                    <div>
                        <li class="textft"><a href="https://www.facebook.com/"><i class="fa-brands fa-facebook"></i></a></li>
                        <li class="textft"><a href="https://twitter.com/X?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor"><i class="fa-brands fa-twitter"></i></a></li>
                        <li class="textft"><a href="https://www.instagram.com/"><i class="fa-brands fa-instagram"></i></a></li>
                        <li class="textft"><a href="https://www.google.com.vn/?hl=vi"><i class="fa-brands fa-google"></i></i></a></li>
                    </div>
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d119084.51948777579!2d105.74734452456423!3d21.136823141698333!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x313500f801d6855d%3A0x7787dfdaf1638d4a!2zxJDDtG5nIEFuaCwgSMOgIE7hu5lpLCBWaeG7h3QgTmFt!5e0!3m2!1svi!2s!4v1699125714169!5m2!1svi!2s" width="350" height="200" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>

                </div>
            </div>
        <div class="ft-bottom">Copyright © 2017,  HN  All rights reserved <i class="fas fa-heart" style="font-size: 24px; color: red;"></i>  <a class="textft" href=""></a></div>
    </div>
</div>
    
    <!-- <a class="backtop" href="#"><i class="fa-regular fa-circle-left fa-rotate-90 flower-mn"></i></a> -->

  <!-- <script src="./js/validateemail.js"></script> -->
  <!-- <script src="./js/login.js"></script> -->
  <script src="./js/search.js"></script>
  <!-- <script src="./js/sea.js"></script> -->
  <script src="./api/home.js"></script>
  <script>
    document.getElementById('searchButton').addEventListener('click', function() {
      const query = document.getElementById('searchInput').value.trim();
      const url = `http://localhost:3456/flowers/661f3b0c27eb1ac7e1bf9cb9?name=${encodeURIComponent(query)}`;

      fetch(url)
        .then(response => response.json())
        .then(data => {
          const flowers = data.data.flowers;
          const galleryContainer = document.getElementById('gallery');
          galleryContainer.innerHTML = ''; // Clear the gallery

          // Tạo phần tử cho mỗi cây và thêm vào galleryContainer
          flowers.forEach(flower => {
            const div = document.createElement('div');
            div.classList.add('gallery-item');
            const a = document.createElement('a');
            a.href = './details.html';
            a.setAttribute('data-bo', flower.set_id.name);
            a.setAttribute('data-ho', flower.surname_id.name);
            a.setAttribute('data-kich-thuoc', flower.size);

            const img = document.createElement('img');
            img.src = flower.flower_images[0] || './asset/IMG_5148.JPG'; // Sử dụng hình ảnh mặc định nếu không có hình ảnh
            // img.alt = flower.name;

            const h3 = document.createElement('h3');
            h3.textContent = flower.name;

            a.appendChild(img);
            a.appendChild(h3);
            div.appendChild(a);
            galleryContainer.appendChild(div);
          });
        })
        .catch(error => console.error('Error fetching data:', error));
    });
  </script>
  <!-- <script>
    function fetchAndDisplayFlowers(query = '') {
      let apiUrl = 'http://localhost:3456/flowers/?page=1&per_page=100&field=name&sort_order=asc';
      if (query) {
        apiUrl += `&q=${encodeURIComponent(query)}`;
      }

      fetch(apiUrl)
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(data => {
          const flowers = data.data.flowers;
          const galleryContainer = document.getElementById('gallery');
          galleryContainer.innerHTML = ''; // Xóa thư viện hiện tại

          if (flowers.length === 0) {
            galleryContainer.innerHTML = '<p>Không tìm thấy kết quả nào.</p>';
            return;
          }

          // Tạo phần tử cho mỗi cây và thêm vào galleryContainer
          flowers.forEach(flower => {
            const div = document.createElement('div');
            div.classList.add('gallery-item');
            const a = document.createElement('a');
            a.href = './details.html';
            a.setAttribute('data-bo', flower.set_id.name);
            a.setAttribute('data-ho', flower.surname_id.name);
            a.setAttribute('data-kich-thuoc', flower.size);

            const img = document.createElement('img');
            img.src = flower.flower_images[0] || './asset/IMG_5148.JPG'; // Sử dụng hình ảnh mặc định nếu không có hình ảnh
            // img.alt = flower.name;

            const h3 = document.createElement('h3');
            h3.textContent = flower.name;

            a.appendChild(img);
            a.appendChild(h3);
            div.appendChild(a);
            galleryContainer.appendChild(div);
          });
        })
        .catch(error => {
          console.error('Lỗi khi lấy dữ liệu:', error);
          const galleryContainer = document.getElementById('gallery');
          galleryContainer.innerHTML = '<p>Đã xảy ra lỗi khi tải dữ liệu.</p>';
        });
    }

    document.getElementById('searchButton').addEventListener('click', function() {
      const query = document.getElementById('searchInput').value.trim();
      fetchAndDisplayFlowers(query);
    });

    // Fetch and display initial data without search query
    fetchAndDisplayFlowers();
  </script> -->
</body>
</html>