<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/detail.css">
    <title>API Example</title>
</head>
<body>
  <div id="details-container">
    <div class="details"></div>
  </div>

  <script>
    fetch('http://localhost:3456/flowers/?page=1&per_page=100&field=name&sort_order=asc')
      .then(response => response.json())
      .then(data => {
        const flowers = data.data.flowers; // Lấy mảng flowers từ data
        const container = document.getElementById('details-container');
        flowers.forEach(flower => {
          const flowerDiv = document.createElement('div');
      flowerDiv.classList.add('flower-info');

      // Tạo các phần tử p và gán nội dung cho chúng
      const scientificNameP = document.createElement('p');
      scientificNameP.innerHTML = `<strong>Tên khoa học:</strong> ${flower.science_name}`;

      const commonNameP = document.createElement('p');
      commonNameP.innerHTML = `<strong>Tên thường gọi:</strong> ${flower.name}`;

      const orderP = document.createElement('p');
      orderP.innerHTML = `<strong>Bộ:</strong> ${flower.set_id.name}`;

      const familyP = document.createElement('p');
      familyP.innerHTML = `<strong>Họ:</strong> ${flower.surname_id.name}`;

      const pollenShapeP = document.createElement('p');
      pollenShapeP.innerHTML = `<strong>Hình dạng phấn hoa:</strong> ${flower.shape_id.name}`;

      const pollenSizeP = document.createElement('p');
      pollenSizeP.innerHTML = `<strong>Kích thước phấn hoa:</strong> ${flower.size}`;

      const pollenSurfaceP = document.createElement('p');
      pollenSurfaceP.innerHTML = `<strong>Bề mặt phấn hoa:</strong> ${flower.surface_id.name}`;

      // Tạo phần tử img và gán đường dẫn và alt

      const pollenImage = document.createElement('img');
      pollenImage.src = flower.pollen_grain_images[0]; // Chọn ảnh đầu tiên từ mảng
      pollenImage.classList.add('pollen_grain_images');

      const flowerImage = document.createElement('img');
      flowerImage.alt = flower.name;
      flowerImage.src = flower.flower_images[0]; // Chọn ảnh đầu tiên từ mảng
      flowerImage.classList.add('flower_images');

      // Thêm các phần tử vào flowerDiv
      flowerDiv.appendChild(flowerImage)
      flowerDiv.appendChild(scientificNameP);
      flowerDiv.appendChild(commonNameP);
      flowerDiv.appendChild(orderP);
      flowerDiv.appendChild(familyP);
      flowerDiv.appendChild(pollenShapeP);
      flowerDiv.appendChild(pollenSizeP);
      flowerDiv.appendChild(pollenSurfaceP);
      flowerDiv.appendChild(pollenImage);

      // Thêm flowerDiv vào container
      container.appendChild(flowerDiv);
    });
  })
  .catch(error => console.error('Error fetching data:', error));
  </script>  
  
</body>
</html>